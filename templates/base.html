<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="keywords" content=""/>
    <title>
        {% block title %}
        {% endblock %}
    </title>
    <!-- //Custom Theme files -->
    <link href="/static/css/bootstrap.css" type="text/css" rel="stylesheet" media="all">
    <link href="/static/css/bootstrap-theme.min.css" type="text/css" rel="stylesheet" media="all">
    <link href="/static/css/style.css" type="text/css" rel="stylesheet" media="all">
    <link href="/static/css/form.css" rel="stylesheet" type="text/css" media="all"/>
    <!-- js -->
    <script src="/static/js/jquery.min.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap-3.1.1.min.js"></script>
    <!-- //js -->
    <!-- cart -->
    <script src="/static/js/simpleCart.min.js"></script>
    <!-- cart -->
    {% block script %}

    {% endblock %}
</head>
<body>
<!--header-->
<div class="header">
    <div class="container">
        <nav class="navbar navbar-default" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <h1 class="navbar-brand"><a href="index.html">甜甜屋</a></h1>
            </div>
            <!--navbar-header-->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav" id="top_menu">
                    <li><a href="/" class="active">首页</a></li>

                </ul>
                <!--/.navbar-collapse-->
            </div>
            <!--//navbar-header-->
        </nav>
        <div class="header-info">
            <div class="header-right search-box">
                <a href="#"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a>
                <div class="search">
                    <form class="navbar-form" method="get" action="/cake/">
                        <input type="text" class="form-control" name="value">
                        <input type="hidden" value="search" name="type">
                        <button type="submit" class="btn btn-default" aria-label="Left Align">
                            Search
                        </button>
                    </form>
                </div>
            </div>
            <div class="header-right login">
                <a href="#"><span class="glyphicon glyphicon-user" aria-hidden="true"></span></a>
                <div id="loginBox">
                    <form id="loginForm">
                        <fieldset id="body">
                            <fieldset>
                                <label for="email">Email Address</label>
                                <input type="text" name="email" id="email">
                            </fieldset>
                            <fieldset>
                                <label for="password">Password</label>
                                <input type="password" name="password" id="password">
                            </fieldset>
                            <input type="submit" id="login" value="Sign in">
                            <label for="checkbox"><input type="checkbox" id="checkbox"> <i>Remember me</i></label>
                        </fieldset>
                        <p>New User ? <a class="sign" href="/register/">Sign Up</a> <span><a href="#">Forgot your password?</a></span>
                        </p>
                    </form>
                </div>
            </div>
            <div class="header-right cart">
                <a href="/checkout/"><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span></a>
                <div class="cart-box">
                    <h4><a href="checkout.html">
                        <span class="simpleCart_total"> $0.00 </span> (<span id="simpleCart_quantity"
                                                                             class="simpleCart_quantity"> 0 </span>)
                    </a></h4>
                    <p><a href="javascript:;" class="simpleCart_empty">Empty cart</a></p>
                    <div class="clearfix"></div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="clearfix"></div>
    </div>
</div>
<!--//header-->
{% block content %}
{% endblock %}
<!--//footer-->
<div class="footer">
    <div class="container">
        <div class="footer-grids">
            <div class="col-md-2 footer-grid">
                <h4>company</h4>
                <ul>
                    <li><a href="products.html">products</a></li>
                    <li><a href="#">Work Here</a></li>
                    <li><a href="#">Team</a></li>
                    <li><a href="#">Happenings</a></li>
                    <li><a href="#">Dealer Locator</a></li>
                </ul>
            </div>
            <div class="col-md-2 footer-grid">
                <h4>service</h4>
                <ul>
                    <li><a href="#">Support</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Warranty</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
            </div>
            <div class="col-md-3 footer-grid">
                <h4>order & returns</h4>
                <ul>
                    <li><a href="#">Order Status</a></li>
                    <li><a href="#">Shipping Policy</a></li>
                    <li><a href="#">Return Policy</a></li>
                    <li><a href="#">Digital Gift Card</a></li>
                </ul>
            </div>
            <div class="col-md-2 footer-grid">
                <h4>legal</h4>
                <ul>
                    <li><a href="#">Privacy</a></li>
                    <li><a href="#">Terms and Conditions</a></li>
                    <li><a href="#">Social Responsibility</a></li>
                </ul>
            </div>
            <div class="col-md-3 footer-grid icons">
                <h4>Connect with Us</h4>
                <ul>
                    <li><a href="#"><img src="/static/images/i1.png" alt=""/>Follow us on Facebook</a></li>
                    <li><a href="#"><img src="/static/images/i2.png" alt=""/>Follow us on Twitter</a></li>
                    <li><a href="#"><img src="/static/images/i3.png" alt=""/>Follow us on Google-plus</a></li>
                    <li><a href="#"><img src="/static/images/i4.png" alt=""/>Follow us on Pinterest</a></li>
                </ul>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</div>
</div>
<div class="footer-bottom">
    <div class="container">
        <p>Copyright &copy; 2015.Company name All rights reserved.More Templates <a href="http://www.cssmoban.com/"
                                                                                    target="_blank"
                                                                                    title="模板之家">模板之家</a> - Collect from
            <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a></p>
    </div>
</div>
<!--请求顶部菜单数据-->
<script>
    $.ajax({
        url: '/head/',
        dataType: 'json',
        success: function (data) {
            console.log(data);
            console.log(data.flavour);
            for (i in data.type) {
                $('#top_menu').append("<li class=\"dropdown\">\n" +
                    "                        <a href=\"cake/?page=1\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">商城<b class=\"caret\"></b></a>\n" +
                    "                        <ul class=\"dropdown-menu multi-column columns-4\">\n" +
                    "                            <div class=\"row\" id='child_menu'>\n" +
                    "                            </div>\n" +
                    "                        </ul>\n" +
                    "                    </li>");
                let a = $(".dropdown-toggle")[i];
                a.innerText = data.type[i];
                a.setAttribute("href", "/cake/?page=1&type=categories&value=" + data.type[i]);
                {#添加口味筛选条件#}
                if (data.flavour) {
                    let child_menu = $(".row")[i];
                    console.log(child_menu);
                    let h4_emt = document.createElement('h4');
                    h4_emt.innerText = '口味';
                    <!-- ul class="multi-column-dropdown"-->
                    let ul_emt = document.createElement('ul');
                    ul_emt.setAttribute('class', 'multi-column-dropdown');
                    let div_emt = document.createElement('div');
                    div_emt.setAttribute('class', 'col-sm-3');
                    div_emt.appendChild(h4_emt);
                    for (let d in data.flavour) {
                        {#<li><a class="list" href="/cake/?page=1&type=flavour&value='#}
                        {#+data.flavour.pk+'">'+data.flavour.fields.flavour+'</a></li>#}
                        let li_emt = document.createElement('li');
                        let a_emt = document.createElement('a');
                        a_emt.setAttribute('class', 'list');
                        a_emt.setAttribute('href', '/more/?page=1&type='+data.type[i]+'&second=flavour'+
                                           '&thirdly='+data.flavour[d].fields.flavour);
                        a_emt.innerText = data.flavour[d].fields.flavour;

                        li_emt.appendChild(a_emt);
                        ul_emt.appendChild(li_emt);
                    }
                    div_emt.appendChild(ul_emt);
                    child_menu.appendChild(div_emt);
                }

                {#添加大小筛选条件#}
                if (data.weight) {
                    {#class="col-sm-3"#}
                    let child_menu = $(".row")[i];
                    {#console.log(child_menu);#}
                    let div_emt = document.createElement('div');
                    div_emt.setAttribute('class', 'col-sm-3');
                    let h4_emt = document.createElement('h4');
                    h4_emt.innerText = '大小';
                    <!-- ul class="multi-column-dropdown"-->
                    let ul_emt = document.createElement('ul');
                    ul_emt.setAttribute('class', 'multi-column-dropdown');
                    div_emt.appendChild(h4_emt);
                    console.log(data.weight[0]);
                    for (let d in data.weight) {
                        {#<li><a class="list" href="/cake/?page=1&type=flavour&value='#}
                        {#+data.flavour.pk+'">'+data.flavour.fields.flavour+'</a></li>#}
                        let li_emt = document.createElement('li');
                        let a_emt = document.createElement('a');
                        a_emt.setAttribute('class', 'list');
                        a_emt.setAttribute('href', '/more/?page=1&type='+data.type[i]+'&second=weight'+
                                           '&thirdly='+data.weight[d].fields.weight);
                        a_emt.innerText = data.weight[d].fields.weight;

                        li_emt.appendChild(a_emt);
                        ul_emt.appendChild(li_emt);
                    }
                    div_emt.appendChild(ul_emt);
                    child_menu.appendChild(div_emt);
                }

                {#添加关系筛选条件#}
                if (data.relation) {
                    {#class="col-sm-3"#}
                    let child_menu = $(".row")[i];
                    {#console.log(child_menu);#}
                    let div_emt = document.createElement('div');
                    div_emt.setAttribute('class', 'col-sm-3');
                    let h4_emt = document.createElement('h4');
                    h4_emt.innerText = '关系';
                    <!-- ul class="multi-column-dropdown"-->
                    let ul_emt = document.createElement('ul');
                    ul_emt.setAttribute('class', 'multi-column-dropdown');
                    div_emt.appendChild(h4_emt);
                    for (let d in data.relation) {
                        {#<li><a class="list" href="/cake/?page=1&type=flavour&value='#}
                        {#+data.flavour.pk+'">'+data.flavour.fields.flavour+'</a></li>#}
                        let li_emt = document.createElement('li');
                        let a_emt = document.createElement('a');
                        a_emt.setAttribute('class', 'list');
                        a_emt.setAttribute('href', '/more/?page=1&type='+data.type[i]+'&second=relation'+
                                           '&thirdly='+data.relation[d].fields.relation);
                        a_emt.innerText = data.relation[d].fields.relation;

                        li_emt.appendChild(a_emt);
                        ul_emt.appendChild(li_emt);
                    }
                    div_emt.appendChild(ul_emt);
                    child_menu.appendChild(div_emt);
                }

                {#添加主题筛选条件#}
                if (data.theme) {
                    {#class="col-sm-3"#}
                    let child_menu = $(".row")[i];
                    {#console.log(child_menu);#}
                    let div_emt = document.createElement('div');
                    div_emt.setAttribute('class', 'col-sm-3');
                    let h4_emt = document.createElement('h4');
                    h4_emt.innerText = '主题';
                    <!-- ul class="multi-column-dropdown"-->
                    let ul_emt = document.createElement('ul');
                    ul_emt.setAttribute('class', 'multi-column-dropdown');
                    div_emt.appendChild(h4_emt);
                    for (let d in data.relation) {
                        {#<li><a class="list" href="/cake/?page=1&type=flavour&value='#}
                        {#+data.flavour.pk+'">'+data.flavour.fields.flavour+'</a></li>#}
                        let li_emt = document.createElement('li');
                        let a_emt = document.createElement('a');
                        a_emt.setAttribute('class', 'list');
                        a_emt.setAttribute('href', '/more/?page=1&type='+data.type[i]+'&second=theme'+
                                           '&thirdly='+data.theme[d].fields.theme);
                        a_emt.innerText = data.theme[d].fields.theme;

                        li_emt.appendChild(a_emt);
                        ul_emt.appendChild(li_emt);
                    }
                    div_emt.appendChild(ul_emt);
                    child_menu.appendChild(div_emt);
                }
            }

        }
    });
</script>
</body>
</html>